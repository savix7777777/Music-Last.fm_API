(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{29:function(t,e,c){},35:function(t,e,c){"use strict";c.r(e);var a=c(1),n=c(0),s=c.n(n),r=c(13),i=c.n(r),o=c(23),j=c(9),l=c(17),h=c(3),b="46fa2be341e118a80b700083f1222bd7",u=(c(29),c(8)),O=function(t){return{type:"GET_ARTIST_DATA",payload:t}},d=function(t){return{type:"SET_SEARCH",payload:t}},m=function(t){var e=t.name,c=t.artist,n=t.image,s=Object(h.f)(),r=Object(u.b)();return Object(a.jsxs)("div",{className:"track-box",children:[Object(a.jsx)("img",{alt:"track-img",src:n[2]["#text"]}),Object(a.jsxs)("div",{className:"track-content",children:[Object(a.jsx)("h2",{className:"track-content__name",children:e}),Object(a.jsxs)("p",{className:"track-content__artist",children:["Artist:",Object(a.jsx)("span",{onClick:function(t){var e;t.stopPropagation(),e=c.name,r(O(e)),s.push("/".concat(c.name))},children:c.name})]}),Object(a.jsx)("a",{target:"_blank",className:"track-content__link",href:c.url,children:"Show artist on Last.fm"})]})]})},f=function(t){var e=t.children,c=t.className,n=t.onClick;return Object(a.jsx)("button",{className:c,onClick:n,children:e})},p=function(t){var e=t.name,c=Object(n.useState)({}),s=Object(j.a)(c,2),r=s[0],i=s[1],o=Object(h.f)();return Object(n.useEffect)((function(){fetch("http://ws.audioscrobbler.com/2.0/?method=artist.getinfo&artist=".concat(e,"&api_key=").concat(b,"&format=json")).then((function(t){return t.json()})).then((function(t){return i(t)}))})),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(f,{onClick:function(){return o.push("/")},className:"go-back",children:Object(a.jsx)("i",{className:"fas fa-arrow-left",children:" "})}),r.artist&&Object(a.jsxs)("div",{className:"artist",children:[Object(a.jsx)("img",{alt:"artist-img",src:r.artist.image[4]["#text"]}),Object(a.jsxs)("div",{className:"artist-info",children:[Object(a.jsx)("h2",{className:"artist-info__name",children:r.artist.name}),Object(a.jsx)("p",{className:"artist-info__tags-title",children:"Tags:"}),Object(a.jsx)("ul",{className:"artist-info__tags",children:r.artist.tags.tag.map((function(t,e){return Object(a.jsx)("li",{children:Object(a.jsx)("a",{target:"_blank",href:t.url,children:t.name})},e)}))}),Object(a.jsxs)("p",{className:"artist-info__bio",children:[r.artist.bio.content.substr(0,700),"..."]})]})]})]})},x=function(){var t=Object(u.b)(),e=Object(n.useState)(""),c=Object(j.a)(e,2),s=c[0],r=c[1],i=Object(n.useState)([]),o=Object(j.a)(i,2),l=o[0],m=o[1];Object(n.useEffect)((function(){s&&fetch("http://ws.audioscrobbler.com/2.0/?method=track.search&track=".concat(s,"&api_key=").concat(b,"&format=json")).then((function(t){return t.json()})).then((function(t){return m(t.results.trackmatches.track)}))}));var p=Object(h.f)(),x=function(e){var c;e.stopPropagation(),c=e.target.textContent,t(O(c)),p.push("/".concat(e.target.textContent))};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(f,{onClick:function(){t(d(!1)),p.push("/")},className:"go-back",children:Object(a.jsx)("i",{className:"fas fa-arrow-left",children:" "})}),Object(a.jsx)("input",{className:"search-input",onChange:function(t){var e=t.target;return r(e.value)},value:s}),Object(a.jsx)("div",{className:"search-results",children:l&&l.map((function(t,e){return Object(a.jsxs)("div",{className:"search-results__track",children:[Object(a.jsx)("h2",{className:"search-results__track-title",children:t.name}),Object(a.jsxs)("p",{className:"track-content__artist search-results__track-artist",children:["Artist:",Object(a.jsx)("span",{onClick:x,children:t.artist})]})]},e)}))})]})},_=function(){var t=Object(u.b)(),e=Object(n.useState)([]),c=Object(j.a)(e,2),s=c[0],r=c[1],i=Object(u.c)((function(t){return t.getArtistData})),O=Object(u.c)((function(t){return t.search}));return Object(n.useEffect)((function(){fetch("http://ws.audioscrobbler.com/2.0/?method=geo.gettoptracks&country=germany&api_key=".concat(b,"&format=json")).then((function(t){return t.json()})).then((function(t){return r(t.tracks.track)}))})),Object(a.jsxs)(l.a,{hashType:"slash",basename:"/room4test",children:[Object(a.jsxs)(h.b,{exact:!0,path:"/",children:[Object(a.jsx)(f,{className:"search-button",onClick:function(){return t(d(!0))},children:Object(a.jsx)("i",{className:"fas fa-search",children:" "})}),O&&Object(a.jsx)(h.a,{to:"/search"}),Object(a.jsxs)("div",{className:"app-main",children:[Object(a.jsx)("h1",{className:"app-main__h2",children:"Popular tracks"}),Object(a.jsx)("div",{className:"app-main__tracks-box",children:s&&s.map((function(t,e){return Object(a.jsx)(m,Object(o.a)({},t),e)}))})]})]}),Object(a.jsxs)(h.b,{path:"/".concat(i),children:[Object(a.jsx)("h1",{className:"app-main__h2",children:"Popular tracks"}),Object(a.jsx)(p,{name:i})]}),"artist"===i&&Object(a.jsx)(h.a,{to:"/"}),Object(a.jsxs)(h.b,{path:"/search",children:[Object(a.jsx)("h1",{className:"app-main__h2",children:"Find tracks"}),Object(a.jsx)(x,{})]})]})},g=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,36)).then((function(e){var c=e.getCLS,a=e.getFID,n=e.getFCP,s=e.getLCP,r=e.getTTFB;c(t),a(t),n(t),s(t),r(t)}))},k=c(11),N=Object(k.b)({getArtistData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"artist",e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"GET_ARTIST_DATA":return e.payload;default:return t}},search:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_SEARCH":return e.payload;default:return t}}}),v=Object(k.c)(N,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());i.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(u.a,{store:v,children:Object(a.jsx)(_,{})})}),document.getElementById("root")),g()}},[[35,1,2]]]);
//# sourceMappingURL=main.bb41c864.chunk.js.map